import{r as l,e as n,h as s,C as v,y as c,A as m,E as w,f as d}from"./vendor-BomGrhGO.js";import{u as y,s as b}from"./index-Dwd-OiAp.js";import"./supabase-DoogjvA8.js";const x={class:"min-h-[60vh] flex items-center justify-center"},g={class:"max-w-md w-full space-y-8"},h=["disabled"],_={key:0},E={key:1},S={__name:"LoginView",setup(k){const p=w(),u=y(),a=l(""),o=l(""),i=l(!1),f=async()=>{if(!a.value||!o.value){window.showError("Complete todos los campos");return}try{i.value=!0;const{data:t,error:e}=await b.auth.signInWithPassword({email:a.value,password:o.value});if(e)throw e;u.isAdminLoggedIn=!0,u.currentUser=t.user,window.showNotification("Bienvenido, administrador"),p.push("/admin")}catch(t){console.error("Error de login:",t),window.showError("Error de autenticación",t.message)}finally{i.value=!1}};return(t,e)=>(d(),n("div",x,[s("div",g,[e[4]||(e[4]=s("div",{class:"text-center"},[s("h2",{class:"text-3xl font-bold text-gray-900"},"Iniciar Sesión"),s("p",{class:"mt-2 text-gray-600"},"Accede al panel de administración")],-1)),s("form",{onSubmit:v(f,["prevent"]),class:"card space-y-6"},[s("div",null,[e[2]||(e[2]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Correo Electrónico ",-1)),c(s("input",{"onUpdate:modelValue":e[0]||(e[0]=r=>a.value=r),type:"email",required:"",class:"input-field",placeholder:"admin@ejemplo.com"},null,512),[[m,a.value]])]),s("div",null,[e[3]||(e[3]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Contraseña ",-1)),c(s("input",{"onUpdate:modelValue":e[1]||(e[1]=r=>o.value=r),type:"password",required:"",class:"input-field",placeholder:"••••••••"},null,512),[[m,o.value]])]),s("button",{type:"submit",disabled:i.value,class:"w-full btn-primary disabled:opacity-50"},[i.value?(d(),n("span",_,"Iniciando sesión...")):(d(),n("span",E,"Iniciar Sesión"))],8,h)],32)])]))}};export{S as default};
